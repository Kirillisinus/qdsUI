(function(){"use strict";var t={4611:function(t,e,n){var s=n(9242),o=n(3396);const a={id:"content"},l=(0,o._)("div",{id:"footer"},null,-1);function r(t,e,n,s,r,i){const c=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.WI)(t.$slots,"default"),(0,o._)("div",a,[(0,o.Wm)(c)]),l],64)}var i={data(){return{socket:2}},created(){this.socket=io("http://localhost:3000/")},errorHandler(t,e,n){alert(`Error: ${t.toString()}\nInfo: ${n}`)},errorCaptured(t,e,n){return"render function"===n&&window.location.reload(),!1}},c=n(89);const u=(0,c.Z)(i,[["render",r]]);var d=u,m=n(678),h=n(7139),p=n(5713);const v={class:"btn-back"},g=(0,o.Uk)(" Назад "),f=(0,o._)("img",{src:p,alt:"logo",id:"logo-lobby"},null,-1),_={class:"lobby"},b={class:"room"},y={class:"right-side"},w={class:"count-players"},k={class:"players"},x={class:"game-settings"},$=(0,o._)("div",{class:"settings-text"},"Custom settings",-1),C=(0,o._)("div",{class:"settings"},null,-1),P={class:"start-game"},T=(0,o._)("div",null,"Начать",-1),M=(0,o._)("i",{class:"icon-arrow-right"},null,-1),E=(0,o._)("div",{class:"button invite-btn"},[(0,o._)("div",null,"Пригласить"),(0,o._)("i",{class:"icon-arrow-right"})],-1);function I(t,e,n,s,a,l){const r=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",v,[(0,o.Wm)(r,{class:"back",to:"#",onClick:l.goBack},{default:(0,o.w5)((()=>[g])),_:1},8,["onClick"]),f]),(0,o._)("div",_,[(0,o._)("div",b,[(0,o._)("div",y,[(0,o._)("div",w," Players "+(0,h.zw)(this.$store.getters.getNumPlayers)+"/16 ",1),(0,o._)("section",k,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(this.$store.getters.getPlayers,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{class:"player",key:e},(0,h.zw)(t.user),1)))),128))])]),(0,o._)("section",x,[$,C,(0,o._)("div",P,[(0,o.Wm)(r,{class:"button start-btn",to:"#",onClick:l.startGame},{default:(0,o.w5)((()=>[T,M])),_:1},8,["onClick"]),E])])])])],64)}var z=n(6265),O=n.n(z),W={data(){return{name:localStorage.name,lobbys:this.$store.getters.getPlayers}},beforeMount(){this.$root.socket.emit("enterLobby",this.name),setTimeout((()=>{}),1e3),this.$root.socket.on("enterMsg",(t=>{setTimeout((()=>{this.$store.dispatch("reqPlayers")}),1e3)})),this.$root.socket.on("exitMsg",(t=>{setTimeout((()=>{this.$store.dispatch("reqPlayers")}),1e3)})),this.$root.socket.on("startMsg",(()=>{this.$router.push("/write")}))},mounted(){this.$forceUpdate()},created(){},beforeUnmount(){this.$root.socket.emit("exitLobby",this.name)},methods:{startGame(){this.$root.socket.emit("startGame")},goBack(){this.$router.push("/")}}};const D=(0,c.Z)(W,[["render",I]]);var S=D;const U={class:"entrance"},j=(0,o._)("div",{id:"header"},[(0,o._)("img",{src:p,alt:"logo",id:"logo"})],-1),B=(0,o._)("span",{class:"invite"},"Представьтесь, пожалуйста ",-1),L=(0,o._)("span",{class:"wrong-name"},"Name has already taken",-1),N=(0,o._)("i",{class:"icon-arrow-right"},null,-1),Y=(0,o._)("div",null,"Cоздать комнату",-1),Z=(0,o._)("i",{class:"icon-arrow-right"},null,-1);function H(t,e,n,a,l,r){const i=(0,o.up)("Loader"),c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(i,{id:"load"}),(0,o._)("div",U,[j,B,L,(0,o.wy)((0,o._)("input",{type:"text",class:"input-name",placeholder:"Гость123123123","onUpdate:modelValue":e[0]||(e[0]=t=>l.name=t)},null,512),[[s.nr,l.name]]),(0,o.Wm)(c,{class:"button continue",onClick:r.saveName,to:"#"},{default:(0,o.w5)((()=>[(0,o._)("div",null,"Продолжить как "+(0,h.zw)(l.name),1),N])),_:1},8,["onClick"]),(0,o.Wm)(c,{class:"button create-room",to:"#"},{default:(0,o.w5)((()=>[Y,Z])),_:1})])],64)}const q=t=>((0,o.dD)("data-v-05853095"),t=t(),(0,o.Cn)(),t),A={class:"lds-default"},G=q((()=>(0,o._)("div",null,null,-1))),V=q((()=>(0,o._)("div",null,null,-1))),X=q((()=>(0,o._)("div",null,null,-1))),K=q((()=>(0,o._)("div",null,null,-1))),F=q((()=>(0,o._)("div",null,null,-1))),R=q((()=>(0,o._)("div",null,null,-1))),J=q((()=>(0,o._)("div",null,null,-1))),Q=q((()=>(0,o._)("div",null,null,-1))),tt=q((()=>(0,o._)("div",null,null,-1))),et=q((()=>(0,o._)("div",null,null,-1))),nt=q((()=>(0,o._)("div",null,null,-1))),st=q((()=>(0,o._)("div",null,null,-1))),ot=[G,V,X,K,F,R,J,Q,tt,et,nt,st];function at(t,e){return(0,o.wg)(),(0,o.iD)("div",A,ot)}const lt={},rt=(0,c.Z)(lt,[["render",at],["__scopeId","data-v-05853095"]]);var it=rt,ct={components:{Loader:it},data(){return{name:String="Гость123123123"}},mounted(){localStorage.name&&(this.name=localStorage.name)},methods:{async saveName(){let t=document.getElementById("load"),e=document.getElementsByClassName("entrance")[0];e.style.display="none",t.style.display="block";let n="http://localhost:3000/login/"+this.name,s="notok";if(await O().get(n).then((n=>{s=n.data.result,t.style.display="none",e.style.display="flex"})),"ok"!=s){let t=document.getElementsByClassName("wrong-name")[0],e=document.getElementsByClassName("input-name")[0];return t.style.display="inline-block",void(e.style.border="1px solid red")}localStorage.name=this.name,this.$router.push("/lobby")}}};const ut=(0,c.Z)(ct,[["render",H]]);var dt=ut,mt=n(9885);const ht={class:"up"},pt=(0,o._)("div",{class:"rounds"},"1/16",-1),vt=(0,o._)("img",{src:p,alt:"logo",id:"logo-write"},null,-1),gt={class:"middle"},ft=(0,o._)("div",{class:"middle-logo"},[(0,o._)("img",{src:mt,alt:"logo",class:"mid-logo"}),(0,o._)("div",{class:"card"},"Write a sentence")],-1),_t={class:"input-sentence"},bt={class:"input"},yt=(0,o._)("input",{class:"sentence",type:"text"},null,-1),wt=(0,o.Uk)("done");function kt(t,e,n,s,a,l){const r=(0,o.up)("baseTimer"),i=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",ht,[pt,vt,(0,o.Wm)(r,{id:"timer",class:"base-timer"})]),(0,o._)("div",gt,[ft,(0,o._)("div",_t,[(0,o._)("div",bt,[yt,(0,o.Wm)(i,{class:"write",to:"#",onClick:l.done},{default:(0,o.w5)((()=>[wt])),_:1},8,["onClick"])])])])],64)}const xt={class:"timer"},$t={viewBox:"-1 -1 2 2",class:"timer__svg donut"},Ct=(0,o._)("circle",{cx:"0",cy:"0",r:"1",fill:"#dddddd"},null,-1),Pt=["d","fill"];function Tt(t,e,n,s,a,l){return(0,o.wg)(),(0,o.iD)("div",xt,[((0,o.wg)(),(0,o.iD)("svg",$t,[Ct,(0,o._)("path",{d:l.calc,fill:a.color},null,8,Pt)]))])}var Mt={data(){return{time:this.$store.getters.getTimeLimit,percent:1,color:"green",startX:1,startY:0,currentPercent:0}},methods:{getPieVal(t){const e=Math.cos(2*Math.PI*t),n=Math.sin(2*Math.PI*t);return[e,n]},start(){TweenMax.to(this.$data,this.time,{currentPercent:this.$data.percent,onComplete:this.complete,ease:Power0.easeNone})},stop(){TweenMax.pauseAll()},complete(){}},computed:{calc(){const[t,e]=this.getPieVal(this.$data.currentPercent),n=this.currentPercent>.5?1:0,s=[`M ${this.$data.startX} ${this.startY}`,`A 1 1 0 ${n} 1 ${t} ${e}`,"L 0 0"].join(" ");return s}},beforeUnmount(){},mounted(){setTimeout((()=>{this.start()}),100)}};const Et=(0,c.Z)(Mt,[["render",Tt]]);var It=Et,zt={data(){return{}},components:{baseTimer:It},methods:{done(){TweenMax.pauseAll();let t=document.getElementById("timer");t.style.display="none",this.$router.push("/draw")}},mounted(){this.$forceUpdate()}};const Ot=(0,c.Z)(zt,[["render",kt]]);var Wt=Ot;const Dt={class:"draw-image"},St={class:"up"},Ut=(0,o._)("div",{class:"rounds"},"1/16",-1),jt=(0,o._)("img",{src:p,alt:"logo",id:"logo-write"},null,-1),Bt={class:"middle"},Lt=(0,o._)("div",{id:"palette"},null,-1),Nt={class:"controls"},Yt={class:"btn-row"},Zt={class:"btn-row"},Ht=["value","onChange"],qt=(0,o._)("div",{class:"btn-row"},null,-1),At=(0,o.Uk)("done"),Gt=(0,o._)("div",{class:"down"},null,-1);function Vt(t,e,n,a,l,r){const i=(0,o.up)("baseTimer"),c=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",Dt,[(0,o._)("div",St,[Ut,jt,(0,o.Wm)(i,{class:"base-timer"})]),(0,o._)("div",Bt,[Lt,(0,o._)("canvas",{id:"canvas",onMousemove:e[0]||(e[0]=t=>r.drawIfPressed(t)),height:"500",width:"900"},"Обновите браузер!",32),(0,o._)("div",Nt,[(0,o._)("div",Yt,[(0,o._)("button",{type:"button",onClick:e[1]||(e[1]=(...t)=>r.clear&&r.clear(...t)),class:"back"},"Clear")]),(0,o._)("div",Zt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.sizes,(t=>((0,o.wg)(),(0,o.iD)("label",{class:"size-item",key:t},[(0,o.wy)((0,o._)("input",{type:"radio",name:"size","onUpdate:modelValue":e[2]||(e[2]=t=>l.size=t),value:t,class:"size",style:(0,h.j5)({width:t+10+"px",height:t+10+"px"}),onChange:e=>r.setSize(t)},null,44,Ht),[[s.G2,l.size]])])))),128))]),qt,(0,o.Wm)(c,{class:"write",to:"#",onClick:r.done},{default:(0,o.w5)((()=>[At])),_:1},8,["onClick"])])]),Gt])}var Xt={components:{baseTimer:It},data(){return{size:12,sizes:[6,12,24,48],canvas:null,context:null,colors:["#13f7ab","#13f3f7","#13c5f7","#138cf7","#1353f7","#2d13f7","#7513f7","#a713f7","#d413f7","#f713e0","#f71397","#f7135b","#f71313","#f76213","#f79413","#f7e013"]}},mounted(){this.$forceUpdate(),this.canvas=document.getElementById("canvas"),this.context=this.canvas.getContext("2d"),this.context.lineCap="round",this.context.lineWidth=this.size;for(var t=document.getElementById("palette"),e=0,n=this.colors.length;e<n;e++){var s=document.createElement("div");s.className="color",s.addEventListener("click",this.changeColor),s.style.backgroundColor=this.colors[e],t.appendChild(s)}},methods:{done(){TweenMax.pauseAll(),this.$router.push("/album")},setSize(t){this.context.lineWidth=t},changeColor(t){this.context.strokeStyle=t.target.style.backgroundColor},clear(){this.context.clearRect(0,0,canvas.width,canvas.height)},drawIfPressed(t){var e=t.offsetX,n=t.offsetY,s=t.movementX,o=t.movementY;t.buttons>0&&(this.context.beginPath(),this.context.moveTo(e,n),this.context.lineTo(e-s,n-o),this.context.stroke(),this.context.closePath())}}};const Kt=(0,c.Z)(Xt,[["render",Vt]]);var Ft=Kt;const Rt={class:"lobby"},Jt=(0,o.Uk)(" home "),Qt={class:"room"},te={class:"players"},ee=(0,o._)("div",{class:"count-players"},"Players 1/16",-1),ne={class:"player"},se=(0,o._)("div",{class:"empty"},"Empty",-1),oe={class:"album"},ae=(0,o._)("div",{class:"album-name"},"album",-1),le=(0,o._)("div",{class:"settings"},null,-1),re={class:"end-game"},ie={class:"end"},ce={class:"end-p"},ue=(0,o._)("button",{class:"write"},"new turn",-1);function de(t,e,n,s,a,l){const r=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",Rt,[(0,o.Wm)(r,{class:"back",to:"/"},{default:(0,o.w5)((()=>[Jt])),_:1}),(0,o._)("div",Qt,[(0,o._)("section",te,[ee,(0,o._)("div",ne,(0,h.zw)(a.name),1),se]),(0,o._)("section",oe,[ae,le,(0,o._)("div",re,[(0,o._)("div",ie,[(0,o._)("p",ce,"end of "+(0,h.zw)(a.name)+"'s album",1)]),ue])])])])}var me={data(){return{name:""}},async mounted(){localStorage.name&&(this.name=localStorage.name)},methods:{}};const he=(0,c.Z)(me,[["render",de]]);var pe=he;const ve=[{path:"/",name:"entrace",component:dt},{path:"/lobby",name:"lobby",component:S},{path:"/write",name:"write",component:Wt},{path:"/draw",name:"draw",component:Ft},{path:"/album",name:"album",component:pe}],ge=(0,m.p7)({history:(0,m.PO)("/"),routes:ve});var fe=ge,_e=n(65),be=(0,_e.MT)({state:{TIME_LIMIT:120,lobbys:[]},getters:{getTimeLimit(t){return t.TIME_LIMIT},getPlayers(t){return t.lobbys},getNumPlayers(t){return t.lobbys.length}},mutations:{updatePlayers(t,e){t.lobbys=e}},actions:{async reqPlayers(t){O().get("http://localhost:3000/players").then((e=>{t.commit("updatePlayers",e.data)}))}},modules:{}}),ye=n(6423);(0,s.ri)(d).use(be).use(fe).use(ye.Z,O()).mount("#app")},5713:function(t,e,n){t.exports=n.p+"img/logo_transparent.e79611e3.png"},9885:function(t,e,n){t.exports=n.p+"img/pen.3e6bfdad.png"}},e={};function n(s){var o=e[s];if(void 0!==o)return o.exports;var a=e[s]={id:s,loaded:!1,exports:{}};return t[s](a,a.exports,n),a.loaded=!0,a.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,s,o,a){if(!s){var l=1/0;for(u=0;u<t.length;u++){s=t[u][0],o=t[u][1],a=t[u][2];for(var r=!0,i=0;i<s.length;i++)(!1&a||l>=a)&&Object.keys(n.O).every((function(t){return n.O[t](s[i])}))?s.splice(i--,1):(r=!1,a<l&&(l=a));if(r){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[s,o,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.p="/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,s){var o,a,l=s[0],r=s[1],i=s[2],c=0;if(l.some((function(e){return 0!==t[e]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(i)var u=i(n)}for(e&&e(s);c<l.length;c++)a=l[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(u)},s=self["webpackChunkqdsui"]=self["webpackChunkqdsui"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(4611)}));s=n.O(s)})();
//# sourceMappingURL=app.8bd2089d.js.map