(function(){"use strict";var e={2813:function(e,t,s){var n=s(9242),a=s(3396);const o={id:"content"},i=(0,a._)("div",{id:"footer"},null,-1);function r(e,t,s,n,r,l){const c=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.WI)(e.$slots,"default"),(0,a._)("div",o,[(0,a.Wm)(c)]),i],64)}var l={data(){return{socket:2}},created(){this.socket=io("https://qds-serv.herokuapp.com/")},errorHandler(e,t,s){alert(`Error: ${e.toString()}\nInfo: ${s}`)},errorCaptured(e,t,s){return"render function"===s&&window.location.reload(),!1}},c=s(89);const d=(0,c.Z)(l,[["render",r]]);var u=d,m=s(678),h=s(7139),g=s(5713);const p={class:"lobby-view"},y={class:"btn-back"},v=(0,a.Uk)(" Назад "),f=(0,a._)("img",{src:g,alt:"logo",id:"logo-lobby"},null,-1),_={class:"lobby"},b={class:"room"},w={class:"right-side"},k={id:"ply-blck",class:"count-players"},C={class:"players"},x=(0,a._)("div",{class:"adm-sign"},null,-1),$={class:"game-settings"},E=(0,a._)("div",{class:"settings-text"},"Custom settings",-1),I=(0,a._)("div",{class:"settings"},null,-1),T={class:"start-game"},A=(0,a._)("div",null,"Начать",-1),N=(0,a._)("i",{class:"icon-arrow-right"},null,-1),P=(0,a._)("div",{class:"button invite-btn"},[(0,a._)("div",null,"Пригласить"),(0,a._)("i",{class:"icon-arrow-right"})],-1);function D(e,t,s,n,o,i){const r=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",p,[(0,a._)("div",y,[(0,a.Wm)(r,{class:"back",to:"#",onClick:i.goBack},{default:(0,a.w5)((()=>[v])),_:1},8,["onClick"]),f]),(0,a._)("div",_,[(0,a._)("div",b,[(0,a._)("div",w,[(0,a._)("div",k," Players "+(0,h.zw)(e.getNumPlayers)+"/16 ",1),(0,a._)("section",C,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.getPlayers,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{id:"plyr",class:"player",key:t},[(0,a.Uk)((0,h.zw)(e.user)+" ",1),x])))),128))])]),(0,a._)("section",$,[E,I,(0,a._)("div",T,[(0,a.Wm)(r,{id:"strt-btn",class:"button start-btn",to:"#",onClick:i.startGame},{default:(0,a.w5)((()=>[A,N])),_:1},8,["onClick"]),P])])])])])}var B=s(6265),M=s.n(B),S=s(65),L={data(){return{name:localStorage.name}},beforeMount(){},async mounted(){setTimeout((()=>{this.updateAdminDiv()}),1e3),this.$store.dispatch("setCreator",this.name),setTimeout((()=>{var e=confirm("Требуется обновить страницу?");e&&this.reload()}),500)},created(){this.$root.socket.on("enterMsg",((...e)=>{this.$store.dispatch("reqPlayers",e),this.$forceUpdate()})),this.$root.socket.on("exitMsg",((...e)=>{this.$store.dispatch("reqPlayers",e)})),this.$root.socket.on("startMsg",((...e)=>{this.$store.dispatch("setRounds"),this.$store.dispatch("setTimeLimit",e),this.$router.replace("/write")})),this.$root.socket.emit("enterLobby",this.name)},beforeUnmount(){this.$root.socket.emit("exitLobby",this.name)},methods:{startGame(){this.$root.socket.emit("startGame",localStorage.name)},goBack(){this.$router.replace("/")},updateAdminDiv(){let e=document.getElementsByClassName("player");for(let t=0;t<e.length;t++){let s=e[t].textContent;s.trim()==this.$store.getters.getAdminName&&(e[t].childNodes[1].style.display="block")}if(localStorage.name!=this.$store.getters.getAdminName){let e=document.getElementById("strt-btn");e.style.display="none"}},sleep(e){return new Promise((t=>setTimeout(t,e)))},reload(){location.reload()}},computed:{...(0,S.Se)(["getNumPlayers","getPlayers"])}};const R=(0,c.Z)(L,[["render",D]]);var U=R;const z={class:"entrance"},W=(0,a._)("div",{id:"header"},[(0,a._)("img",{src:g,alt:"logo",id:"logo"})],-1),O=(0,a._)("span",{class:"invite"},"Представьтесь, пожалуйста ",-1),H=(0,a._)("span",{class:"wrong-name"},"Имя уже используется, придумайте другое!",-1),q=(0,a._)("i",{class:"icon-arrow-right"},null,-1),Y=(0,a._)("div",null,"Cоздать комнату",-1),j=(0,a._)("i",{class:"icon-arrow-right"},null,-1);function G(e,t,s,o,i,r){const l=(0,a.up)("Loader"),c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l,{id:"load"}),(0,a._)("div",z,[W,O,H,(0,a.wy)((0,a._)("input",{type:"text",class:"input-name",placeholder:"Гость123123123","onUpdate:modelValue":t[0]||(t[0]=e=>i.name=e)},null,512),[[n.nr,i.name]]),(0,a.Wm)(c,{class:"button continue",onClick:r.saveName,to:"#"},{default:(0,a.w5)((()=>[(0,a._)("div",null,"Продолжить как "+(0,h.zw)(i.name),1),q])),_:1},8,["onClick"]),(0,a.Wm)(c,{class:"button create-room",to:"#"},{default:(0,a.w5)((()=>[Y,j])),_:1})])],64)}const Z=e=>((0,a.dD)("data-v-0da5af09"),e=e(),(0,a.Cn)(),e),V={class:"main-cont"},X=Z((()=>(0,a._)("div",{class:"lds-default"},[(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div"),(0,a._)("div")],-1))),J=[X];function K(e,t,s,n,o,i){return(0,a.wg)(),(0,a.iD)("div",V,J)}var F={data(){return{}},mounted(){},methods:{}};const Q=(0,c.Z)(F,[["render",K],["__scopeId","data-v-0da5af09"]]);var ee=Q,te={components:{Loader:ee},data(){return{name:String="Гость123123123"}},mounted(){localStorage.name&&(this.name=localStorage.name)},methods:{async saveName(){let e=document.getElementById("load"),t=document.getElementsByClassName("entrance")[0],s=document.getElementById("content");s.style.border="none",t.style.display="none",e.style.display="block";let n="https://qds-serv.herokuapp.com/login/"+this.name,a="notok";if(await M().get(n).then((n=>{a=n.data.result,e.style.display="none",t.style.display="flex",s.style.border="4px #f5d731f1 solid"})),"ok"!=a){let e=document.getElementsByClassName("wrong-name")[0],t=document.getElementsByClassName("input-name")[0];return e.style.display="inline-block",void(t.style.border="1px solid red")}localStorage.name=this.name,localStorage.reload=!0,this.$router.replace("/lobby")},showToggle(){this.show?this.show=!1:this.show=!0},sleep(e){return new Promise((t=>setTimeout(t,e)))}}};const se=(0,c.Z)(te,[["render",G]]);var ne=se,ae=s(8171);const oe={class:"write-player-sentence"},ie={class:"up"},re={class:"rounds"},le=(0,a._)("img",{src:g,alt:"logo",id:"logo-write"},null,-1),ce=(0,a._)("img",{src:ae,alt:"ready",class:"ready-icon",id:"rdy-i"},null,-1),de={class:"middle"},ue={class:"middle-logo"},me=["src"],he=(0,a._)("div",{class:"card"},"Write a sentence",-1),ge={class:"input"},pe=(0,a.Uk)("done");function ye(e,t,s,o,i,r){const l=(0,a.up)("baseTimer"),c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",oe,[(0,a._)("div",ie,[(0,a._)("div",re,(0,h.zw)(e.getCurRound)+"/"+(0,h.zw)(e.getNumRounds),1),le,(0,a.Wm)(l,{id:"timer",class:"base-timer"}),ce]),(0,a._)("div",de,[(0,a._)("div",ue,[(0,a._)("img",{src:i.imageSrc,alt:"image",id:"game_img",class:"what-to-write"},null,8,me),he]),(0,a._)("div",ge,[(0,a.wy)((0,a._)("input",{class:"sentence",type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>i.sentence=e)},null,512),[[n.nr,i.sentence]]),(0,a.Wm)(c,{id:"wr-bt",class:"write",to:"#",onClick:r.done},{default:(0,a.w5)((()=>[pe])),_:1},8,["onClick"])])])])}const ve={id:"tim",class:"timer"},fe={viewBox:"-1 -1 2 2",class:"timer__svg donut"},_e=(0,a._)("circle",{cx:"0",cy:"0",r:"1",fill:"#dddddd"},null,-1),be=["d","fill"];function we(e,t,s,n,o,i){return(0,a.wg)(),(0,a.iD)("div",ve,[((0,a.wg)(),(0,a.iD)("svg",fe,[_e,(0,a._)("path",{d:i.calc,fill:o.color},null,8,be)]))])}var ke={data(){return{time:this.$store.getters.getTimeLimit,percent:1,color:"green",startX:1,startY:0,currentPercent:0}},methods:{getPieVal(e){const t=Math.cos(2*Math.PI*e),s=Math.sin(2*Math.PI*e);return[t,s]},start(){TweenMax.to(this.$data,this.time,{currentPercent:this.$data.percent,onComplete:this.complete,ease:Power0.easeNone})},stop(){TweenMax.pauseAll()},complete(){TweenMax.pauseAll(),document.getElementById("timer").style.display="none",this.$root.socket.emit("timeIsUp")}},computed:{calc(){const[e,t]=this.getPieVal(this.$data.currentPercent),s=this.currentPercent>.5?1:0,n=[`M ${this.$data.startX} ${this.startY}`,`A 1 1 0 ${s} 1 ${e} ${t}`,"L 0 0"].join(" ");return n}},beforeUnmount(){},mounted(){setTimeout((()=>{this.start()}),100)}};const Ce=(0,c.Z)(ke,[["render",we]]);var xe=Ce,$e={data(){return{sentence:"",ready:!1,canvas:null,context:null,imageSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg=="}},components:{baseTimer:xe},methods:{done(){document.getElementById("rdy-i").style.display="block";let e=document.getElementById("wr-bt");e.style.backgroundColor="gray",TweenMax.pauseAll();let t=document.getElementById("timer");if(t.style.display="none",!this.ready){this.ready=!0;let e=this.$store.getters.getCreator;this.$root.socket.emit("writeData",{sentence:this.sentence,creator:e})}},async updContent(){let e=this.$store.getters.getCurRound-2;if(e<0){let e=document.getElementById("game_img");e.style.display="none"}this.$store.getters.getCreator;let t="200",s="https://qds-serv.herokuapp.com/whattomake/"+localStorage.name+"/"+e;await M().get(s).catch((function(e){e.response&&(console.log(e.response.data),console.log(e.response.status),t=e.response.status,console.log(e.response.headers),console.log(e.config))}));var n=new Image;let a=document.getElementById("rdy-i");"200"===t&&await M().get(s).then((e=>{n.src=e.data.data,this.imageSrc=e.data.data,a.style.height="100px",a.style.width="200px"}))},loadImageURL(e){var t=document.createElement("img");t.addEventListener("load",(function(){var e=this.context.fillStyle,s=this.context.lineWidth;this.context.canvas.width=t.width,this.context.canvas.height=t.height,this.context.drawImage(t,0,0),this.context.fillStyle=e,this.context.strokeStyle=e,this.context.lineWidth=s})),t.src=e}},created(){this.$root.socket.on("goNextMsg",((...e)=>{this.ready||this.$root.socket.emit("writeData",{sentence:this.sentence,creator:this.$store.getters.getCreator}),this.$store.dispatch("setTimeLimit",e[0].round_time),this.$router.replace("/"+e[0].next_page)})),this.$root.socket.on("timeIsUp",(()=>{this.ready||(this.ready=!0,this.$root.socket.emit("writeData",{sentence:this.sentence,creator:this.$store.getters.getCreator}))}))},beforeMount(){this.updContent()},mounted(){this.$forceUpdate(),this.canvas=document.getElementById("drawed-img"),this.context=this.canvas.getContext("2d")},beforeUnmount(){TweenMax.pauseAll(),this.$store.dispatch("setRound")},computed:{...(0,S.Se)(["getNumRounds","getCurRound"])}};const Ee=(0,c.Z)($e,[["render",ye]]);var Ie=Ee;const Te={class:"draw-image"},Ae={class:"up"},Ne={class:"rounds"},Pe=(0,a._)("img",{src:ae,alt:"ready",class:"ready-icon",id:"rdy-i"},null,-1),De=(0,a._)("div",{class:"call-draw"},"Попробуй нарисовать!",-1),Be={class:"prev-sentence"},Me={class:"middle-draw"},Se=(0,a._)("div",{id:"palette"},null,-1),Le={class:"down"},Re={class:"controls"},Ue={class:"btn-row"},ze={class:"btn-row"},We=["value","onChange"],Oe=(0,a._)("div",{class:"btn-row"},null,-1),He=(0,a.Uk)("done");function qe(e,t,s,o,i,r){const l=(0,a.up)("baseTimer"),c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",Te,[(0,a._)("div",Ae,[(0,a._)("div",Ne,(0,h.zw)(e.getCurRound)+"/"+(0,h.zw)(e.getNumRounds),1),(0,a.Wm)(l,{id:"timer",class:"base-timer"}),Pe]),De,(0,a._)("div",Be,(0,h.zw)(i.sentence),1),(0,a._)("div",Me,[Se,(0,a._)("canvas",{id:"canvas",onMousemove:t[0]||(t[0]=e=>r.drawIfPressed(e)),onTouchmove:t[1]||(t[1]=e=>r.drawIfTouched(e)),onTouchstart:t[2]||(t[2]=e=>r.startDrawing(e)),onTouchend:t[3]||(t[3]=e=>r.stopDrawing(e)),height:"500",width:"900"},"Обновите браузер!",32)]),(0,a._)("div",Le,[(0,a._)("div",Re,[(0,a._)("div",Ue,[(0,a._)("button",{type:"button",onClick:t[4]||(t[4]=(...e)=>r.clear&&r.clear(...e)),class:"back"},"Clear")]),(0,a._)("div",ze,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.sizes,(e=>((0,a.wg)(),(0,a.iD)("label",{class:"size-item",key:e},[(0,a.wy)((0,a._)("input",{type:"radio",name:"size","onUpdate:modelValue":t[5]||(t[5]=e=>i.size=e),value:e,class:"size",style:(0,h.j5)({width:e+10+"px",height:e+10+"px"}),onChange:t=>r.setSize(e)},null,44,We),[[n.G2,i.size]])])))),128))]),Oe,(0,a.Wm)(c,{id:"d-bt",class:"write",to:"#",onClick:r.done},{default:(0,a.w5)((()=>[He])),_:1},8,["onClick"])])])])}var Ye={components:{baseTimer:xe},data(){return{sentence:"Lorem ipsum",isDrawing:!1,ready:!1,size:12,sizes:[6,12,24,48],canvas:null,context:null,colors:["#ffffff","#000000","#13f7ab","#13f3f7","#13c5f7","#138cf7","#1353f7","#2d13f7","#7513f7","#a713f7","#d413f7","#f713e0","#f71397","#f7135b","#f71313","#f76213","#f79413","#f7e013"]}},created(){this.$root.socket.on("goNextMsg",((...e)=>{this.ready||this.$root.socket.emit("writeData",{sentence:this.canvas.toDataURL(),creator:this.$store.getters.getCreator}),this.$store.dispatch("setTimeLimit",e[0].round_time),this.$router.replace("/"+e[0].next_page)})),this.$root.socket.on("timeIsUp",(()=>{this.ready||(this.ready=!0,this.$root.socket.emit("writeData",{sentence:this.canvas.toDataURL(),creator:this.$store.getters.getCreator}))}))},beforeMount(){this.updContent()},mounted(){this.$forceUpdate(),this.canvas=document.getElementById("canvas");var e=document.body.getBoundingClientRect();this.canvas.setAttribute("width",.65*e.width),this.context=this.canvas.getContext("2d"),this.context.lineCap="round",this.context.lineWidth=this.size;for(var t=document.getElementById("palette"),s=0,n=this.colors.length;s<n;s++){var a=document.createElement("div");a.className="color",a.addEventListener("click",this.changeColor),a.style.backgroundColor=this.colors[s],t.appendChild(a)}},beforeUnmount(){TweenMax.pauseAll(),this.$store.dispatch("setRound")},methods:{done(){document.getElementById("rdy-i").style.display="block";let e=document.getElementById("d-bt");e.style.backgroundColor="gray",TweenMax.pauseAll();let t=document.getElementById("timer");if(t.style.display="none",!this.ready){let e=this.$store.getters.getCreator;this.$root.socket.emit("writeData",{sentence:this.canvas.toDataURL(),creator:e})}this.ready=!0},async updContent(){let e=this.$store.getters.getCurRound-2,t=(this.$store.getters.getCreator,"200"),s="https://qds-serv.herokuapp.com/whattomake/"+localStorage.name+"/"+e;await M().get(s).catch((function(e){e.response&&(console.log(e.response.data),console.log(e.response.status),t=e.response.status,console.log(e.response.headers),console.log(e.config))})),"200"===t&&await M().get(s).then((e=>{this.sentence=e.data.data,this.$store.dispatch("setCreator",e.data.creator)}))},setSize(e){this.context.lineWidth=e},changeColor(e){this.context.strokeStyle=e.target.style.backgroundColor},clear(){this.context.clearRect(0,0,canvas.width,canvas.height)},drawIfPressed(e){var t=e.offsetX,s=e.offsetY,n=e.movementX,a=e.movementY;e.buttons>0&&(this.context.beginPath(),this.context.moveTo(t,s),this.context.lineTo(t-n,s-a),this.context.stroke(),this.context.closePath())},startDrawing(e){e.target==canvas&&(document.body.style.overflow="hidden",this.isDrawing=!0,this.context.beginPath(),this.context.moveTo(e.touches[0].pageX-this.canvas.offsetLeft,e.touches[0].pageY-this.canvas.offsetTop))},drawIfTouched(e){if(e.target==canvas&&(document.body.style.overflow="hidden",1==this.isDrawing)){var t=e.touches[0].pageX-this.canvas.offsetLeft,s=e.touches[0].pageY-this.canvas.offsetTop;this.context.lineTo(t,s),this.context.stroke()}},stopDrawing(e){document.body.style.overflow="scroll",e.target==canvas&&(this.isDrawing=!0)}},computed:{...(0,S.Se)(["getNumRounds","getCurRound"])}};const je=(0,c.Z)(Ye,[["render",qe]]);var Ge=je;const Ze={class:"history"},Ve=(0,a.Uk)(" home "),Xe={class:"room"},Je=(0,a._)("section",{id:"custom-players",class:"players"},null,-1),Ke={class:"album"},Fe={id:"albn",class:"album-name count-players"},Qe=(0,a._)("div",{id:"albgs",class:"game-session-album"},null,-1),et={class:"end-game"},tt={class:"end"},st={class:"end-p"},nt={class:"end-buttons"},at=(0,a.Uk)("Играть ещё");function ot(e,t,s,n,o,i){const r=(0,a.up)("Loader"),l=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(r,{id:"load"}),(0,a._)("div",Ze,[(0,a.Wm)(l,{class:"back",to:"#",onClick:i.home},{default:(0,a.w5)((()=>[Ve])),_:1},8,["onClick"]),(0,a._)("div",Xe,[Je,(0,a._)("section",Ke,[(0,a._)("div",Fe,(0,h.zw)(o.active_player_name)+"'s album ",1),Qe,(0,a._)("div",et,[(0,a._)("div",tt,[(0,a._)("p",st,"end of "+(0,h.zw)(o.active_player_name)+"'s album",1)]),(0,a._)("div",nt,[(0,a._)("button",{id:"prev_btn",class:"write",onClick:t[0]||(t[0]=e=>i.choosePlayer(e,"p"))}," Предыдущий "),(0,a._)("button",{id:"next_btn",class:"write",onClick:t[1]||(t[1]=e=>i.choosePlayer(e,"n"))}," Следующий "),(0,a.Wm)(l,{id:"new_turn",class:"write",to:"#",onClick:i.home},{default:(0,a.w5)((()=>[at])),_:1},8,["onClick"])])])])])])],64)}s(428),s(5065);var it={components:{Loader:ee},data(){return{name:String="Гость123123123",users:[],game_info:null,active_user:null,active_player_name:null}},async mounted(){localStorage.name&&(this.name=localStorage.name);await Promise.all([this.loadGameSessionInfo()]);this.buildHistory()},methods:{async loadGameSessionInfo(){let e,t="https://qds-serv.herokuapp.com/history";await M().get(t).then((t=>{e=t.data,this.game_info=t.data}));let s=document.getElementById("custom-players"),n=document.createElement("div");n.className="count-players",n.textContent="Players "+e.length+"/16",s.appendChild(n);for(let a=0;a<e.length;a++){0==a&&(this.active_user=a,this.active_player_name=e[a].name),this.users.push(e[a].name);let t=document.createElement("div");t.className="player",t.textContent=e[a].name,s.appendChild(t)}s.childNodes[1].style.backgroundColor="rgb(175, 174, 174)"},async buildHistory(){var e=document.getElementById("albgs"),t=e.lastElementChild;while(t)e.removeChild(t),t=e.lastElementChild;var s=document.createElement("div");s.className="msg-block-left";for(let n=0;n<this.game_info[this.active_user].items.length;n++)if(n%2==0){let t=document.createElement("div");t.className="msg-block-right";let s=document.createElement("span");s.className="msg-autor",s.innerHTML=this.game_info[this.active_user].items[n].creator,t.appendChild(s);let a=document.createElement("div");a.className="message";let o=document.createElement("span");o.className="msg-text",o.innerHTML=this.game_info[this.active_user].items[n].data,a.appendChild(o),t.appendChild(a),t.classList.add("b-show"),e.appendChild(t),await this.sleep(2500)}else{let t=document.createElement("div");t.className="msg-block-left";let s=document.createElement("span");s.className="msg-autor",s.innerHTML=this.game_info[this.active_user].items[n].creator,t.appendChild(s);let a=document.createElement("div");a.className="message";let o=document.createElement("div");o.className="msg-content";let i=document.createElement("img");i.setAttribute("id","img_msg"),i.src=this.game_info[this.active_user].items[n].data,i.style.height="100px",i.style.width="200px",o.appendChild(i),a.appendChild(o),t.appendChild(a),t.classList.add("b-show"),e.appendChild(t),await this.sleep(2500)}},async newGame(){let e=document.getElementById("load"),t=document.getElementsByClassName("history")[0],s=document.getElementById("content");s.style.border="none",t.style.display="none",e.style.display="block";let n="https://qds-serv.herokuapp.com/login/"+this.name,a="notok";await M().get(n).then((n=>{a=n.data.result,e.style.display="none",t.style.display="flex",s.style.border="4px #f5d731f1 solid"})),"ok"==a?(localStorage.name=this.name,this.$router.replace("/lobby")):alert("В настоящий момент имя "+this.name+" уже используется, придумайте другое!")},choosePlayer(e,t){let s=document.getElementById("custom-players"),n=document.getElementById("next_btn"),a=document.getElementById("prev_btn"),o=document.getElementById("new_turn");if(e&&"n"==t)this.active_user===this.game_info.length-2?(n.style.display="none",a.style.display="block",o.style.display="block"):(o.style.display="block",n.style.display="none"),s.childNodes[this.active_user+1].style.backgroundColor="#bfedcd",this.active_user++,this.active_player_name=this.game_info[this.active_user].name,s.childNodes[this.active_user+1].style.backgroundColor="rgb(175, 174, 174)",this.buildHistory();else if(e&&"p"==t){this.game_info.length;1===this.active_user?(a.style.display="none",n.style.display="block"):o.style.display="block",s.childNodes[this.active_user+1].style.backgroundColor="#bfedcd",this.active_user--,this.active_player_name=this.game_info[this.active_user].name,s.childNodes[this.active_user+1].style.backgroundColor="rgb(175, 174, 174)",this.buildHistory()}},home(){this.$root.socket.emit("exitGame"),this.$router.replace("/")},sleep(e){return new Promise((t=>setTimeout(t,e)))}},computed:{...(0,S.Se)(["getNumPlayers","getPlayers"])}};const rt=(0,c.Z)(it,[["render",ot]]);var lt=rt;const ct=[{path:"/",name:"entrace",component:ne},{path:"/lobby",name:"lobby",component:U},{path:"/write",name:"write",component:Ie},{path:"/draw",name:"draw",component:Ge},{path:"/album",name:"album",component:lt}],dt=(0,m.p7)({history:(0,m.r5)(),routes:ct});var ut=dt,mt=(0,S.MT)({state:{TIME_LIMIT:0,lobbys:[],admin_name:"",rounds:0,round:1,creator:""},getters:{getTimeLimit(e){return e.TIME_LIMIT},getPlayers(e){return e.lobbys},getNumPlayers(e){return e.lobbys.length},getAdminName(e){return e.admin_name},getNumRounds(e){return e.rounds},getCurRound(e){return e.round},getCreator(e){return e.creator}},mutations:{updateTimeLimit(e,t){e.TIME_LIMIT=t},updatePlayers(e,t){e.lobbys=t},updateAdmin(e,t){e.admin_name=t},updateRounds(e,t){e.rounds=t},updateRound(e){e.round++},updateCreator(e,t){e.creator=t}},actions:{setTimeLimit(e,t){e.commit("updateTimeLimit",t)},async reqPlayers(e,t){await M().get("https://qds-serv.herokuapp.com/players").then((s=>{e.commit("updatePlayers",s.data),e.commit("updateAdmin",t)}))},setRounds(e){e.commit("updateRounds",this.state.lobbys.length)},setAdminName(e,t){e.commit("updateAdmin",t)},setRound(e){e.commit("updateRound")},setCreator(e,t){e.commit("updateCreator",t)}},modules:{}}),ht=s(6423);(0,n.ri)(u).use(mt).use(ut).use(ht.Z,M()).mount("#app")},8171:function(e,t,s){e.exports=s.p+"img/check.5316d6f6.png"},5713:function(e,t,s){e.exports=s.p+"img/logo_transparent.e79611e3.png"}},t={};function s(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n](o,o.exports,s),o.loaded=!0,o.exports}s.m=e,function(){s.amdO={}}(),function(){var e=[];s.O=function(t,n,a,o){if(!n){var i=1/0;for(d=0;d<e.length;d++){n=e[d][0],a=e[d][1],o=e[d][2];for(var r=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(s.O).every((function(e){return s.O[e](n[l])}))?n.splice(l--,1):(r=!1,o<i&&(i=o));if(r){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,a,o]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,o,i=n[0],r=n[1],l=n[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(l)var d=l(s)}for(t&&t(n);c<i.length;c++)o=i[c],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},n=self["webpackChunkqdsui"]=self["webpackChunkqdsui"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(2813)}));n=s.O(n)})();
//# sourceMappingURL=app.57242dcb.js.map